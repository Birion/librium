{
  "version": 3,
  "sources": [
    "book.coffee"
  ],
  "names": [],
  "mappings": ";;;AAAA,IAAA,EAAA;;AAAA,KAAK,EAAL;;AAEA,GAAA,KAAA,GAAc,YAAA;AACZ,MAAA,UAAA;AAAA,eAAa,EAAA,MAAA,CAAb;SAEA;AAAA,UAAM,cAAA,KAAA,EAAA;AAAA,UAAQ,GAAR,uEAAA,IAAA;;AACJ,UAAA,WAAA;AAAA,oBACE;AAAA,cAAA,KAAA;AACA,aAAK,gBAAY,KAAZ,SAAA,GAAA,aADL,KAAA;AAEA,iBAFA,kBAAA;AAGA,kBAAU;AAHV,OADF;aAKA,EAAA,IAAA,CAAA,WAAA,EAAA,IAAA,CACQ,UAAA,IAAA,EAAA;eACJ,WAAA,OAAA,CAAA,oBAAA,EAAyC,CAAA,IAAA,EAAzC,KAAyC,CAAzC,C;AAFJ,OAAA,EAAA,IAAA,CAGQ,UAAA,GAAA,EAAA,UAAA,EAAA,WAAA,EAAA;eACJ,WAAA,OAAA,CAAA,aAAA,EAAkC,CAAA,GAAA,EAAA,UAAA,EAAlC,WAAkC,CAAlC,C;AAJJ,OAAA,C;AANF,KAAA;AAYA,UAAM,cAAA,KAAA,EAAA;AAAA,UAAQ,GAAR,uEAAA,IAAA;;AACJ,UAAA,WAAA;AAAA,oBACE;AAAA,cAAA,KAAA;AACA,aAAK,gBAAY,KAAZ,SAAA,GAAA,aADL,KAAA;AAEA,iBAFA,kBAAA;AAGA,kBAAU;AAHV,OADF;aAKA,EAAA,IAAA,CAAA,WAAA,EAAA,IAAA,CACQ,UAAA,IAAA,EAAA;eACJ,WAAA,OAAA,CAAA,oBAAA,EAAyC,CAAzC,IAAyC,CAAzC,C;AAFJ,OAAA,EAAA,IAAA,CAGQ,UAAA,GAAA,EAAA,UAAA,EAAA,WAAA,EAAA;eACJ,WAAA,OAAA,CAAA,aAAA,EAAkC,CAAA,GAAA,EAAA,UAAA,EAAlC,WAAkC,CAAlC,C;AAJJ,OAAA,C;AANI;AAZN,G;AAHS,CAAG,EAAd;;AA2BA,GAAA,IAAA,GAAa,YAAA;AACX,MAAA,SAAA;AAAA,cAAY,EAAA,cAAA,CAAZ;SAEA;AAAA,oBAAgB,wBAAA,IAAA,EAAA;aACd,QAAA,GAAA,CAAA,IAAA,C;AADc;AAAhB,G;AAHQ,CAAG,EAAb;;AAMA,GAAA,UAAA,GAAmB,UAAA,CAAA,EAAA,CAAA,EAAA;AACjB,MAAA,UAAA,EAAA,MAAA,EAAA,KAAA,EAAA,MAAA,EAAA,IAAA;AAAA,UAAQ,CAAR;AACA,SAAO,CAAP;AACA,eAAa,EAAA,MAAA,CAAb;AACA,WAAS,EAAA,MAAA,EAAA,GAAA,EAAT;AACA,WAAS,EAAT;AAEA,aAAW,YAAA;AACT,UAAA,IAAA,CAAA,MAAA,EAAA,MAAA;AACA,UAAA,IAAA,CAAA,SAAA;AACA,UAAA,IAAA,CAAA,SAAA;AACA,YAAA,GAAA,CAAY,OAAZ,SAAY,CAAZ;WACA,KAAA,cAAA,CAAoB,OAApB,OAAA,C;AALF,GAAA,EAAA,GAAA;AAQA,aAAA,EAAA,CAAA,oBAAA,EAAoC,UAAA,CAAA,EAAA,IAAA,EAAA,KAAA,EAAA;WAClC,OAAA,KAAA,IAAgB,I;AADlB,GAAA;AAGA,aAAA,EAAA,CAAA,oBAAA,EAAoC,UAAA,CAAA,EAAA,IAAA,EAAA;WAClC,QAAA,GAAA,CAAA,IAAA,C;AADF,GAAA;SAGA,WAAA,EAAA,CAAA,aAAA,EAA6B,UAAA,CAAA,EAAA,GAAA,EAAA,UAAA,EAAA,WAAA,EAAA;AAC3B,QAAA,SAAA;AAAA,gBAAY,UAAZ,UAAY,WAAZ,WAA+C,IAAI,YAAJ,CAA/C,MAAA;;WAEA,QAAA,GAAA,CAAA,SAAA,C;AAHF,GAAA,C;AArBc,CAAG,CAAG,GAAN,KAAG,EAAe,GAAlB,IAAG,CAAnB",
  "sourcesContent": [
    "ns = {}\n\nns.model = do ->\n  $eventPump = $ \"body\"\n\n  init: (rtype, _id=null) ->\n    ajaxOptions =\n      type: \"GET\"\n      url: if _id then \"/api/#{rtype}/#{_id}\" else \"/api/#{rtype}\"\n      accepts: \"application/json\"\n      dataType: \"json\"\n    $.ajax ajaxOptions\n      .done (data) ->\n        $eventPump.trigger \"model_init_success\", [data, rtype]\n      .fail (xhr, textStatus, errorThrown) ->\n        $eventPump.trigger \"model_error\", [xhr, textStatus, errorThrown]\n\n  read: (rtype, _id=null) ->\n    ajaxOptions =\n      type: \"GET\"\n      url: if _id then \"/api/#{rtype}/#{_id}\" else \"/api/#{rtype}\"\n      accepts: \"application/json\"\n      dataType: \"json\"\n    $.ajax ajaxOptions\n      .done (data) ->\n        $eventPump.trigger \"model_read_success\", [data]\n      .fail (xhr, textStatus, errorThrown) ->\n        $eventPump.trigger \"model_error\", [xhr, textStatus, errorThrown]\n\nns.view = do ->\n  $dropdown = $ \".ui.dropdown\"\n\n  updateDropdown: (vals) ->\n    console.log vals\n\nns.controller = do (m=ns.model, v=ns.view) ->\n  model = m\n  view = v\n  $eventPump = $ \"body\"\n  bookID = $(\"#_id\").val()\n  values = {}\n\n  setTimeout ->\n    model.init \"book\", bookID\n    model.init \"authors\"\n    model.init \"formats\"\n    console.log values[\"formats\"]\n    view.updateDropdown values.formats\n  , 100\n\n  $eventPump.on \"model_init_success\", (e, data, rtype) ->\n    values[rtype] = data\n\n  $eventPump.on \"model_read_success\", (e, data) ->\n    console.log data\n\n  $eventPump.on \"model_error\", (e, xhr, textStatus, errorThrown) ->\n    error_msg = \"#{textStatus}: #{errorThrown} - #{xhr.responseJSON.detail}\"\n#    view.error error_msg\n    console.log error_msg\n"
  ],
  "sourceRoot": "../coffee"
}